(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{5024:function(){},938:function(e,r,t){Promise.resolve().then(t.bind(t,5090))},9376:function(e,r,t){"use strict";var s=t(5475);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},5090:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var s=t(7437),l=t(2265),a=t(3002);let o=new(t(8468)).gK("https://fullnode.testnet.aptoslabs.com/v1");var n=e=>{let{onSuccess:r,onError:t}=e,[n,d]=(0,l.useState)({itemType:"",itemName:"",walletAddress:"",soldBy:"",orderId:"",pickupDate:"",pickupTime:""}),[i,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)({type:null,text:""}),{signAndSubmitTransaction:p,connected:x}=(0,a.Os)(),b=e=>{let{name:r,value:t}=e.target;d(e=>({...e,[r]:t}))},h=async e=>{if(e.preventDefault(),!x){m({type:"error",text:"Please connect your wallet first"});return}c(!0),m({type:null,text:""});try{let e={data:{function:"".concat("0xc9d300dfef9ec68f48c519ed3d2e95141f180ec8b2eea83d1ccd4dc98c667284","::ItemRegistry::add_item"),typeArguments:[],functionArguments:[n.itemType,n.itemName,n.walletAddress,n.soldBy,n.orderId,n.pickupDate,n.pickupTime]}},t=await p(e);await o.waitForTransaction(t.hash),m({type:"success",text:"Item successfully added to blockchain! Transaction: ".concat(t.hash)}),d({itemType:"",itemName:"",walletAddress:"",soldBy:"",orderId:"",pickupDate:"",pickupTime:""}),r&&r(n)}catch(r){console.error("Blockchain error:",r);let e=r instanceof Error?r.message:"Failed to add item to blockchain";m({type:"error",text:e}),t&&t(e)}finally{c(!1)}};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Add Item to Blockchain"}),u.type&&(0,s.jsx)("div",{className:"mb-6 p-4 rounded-lg ".concat("success"===u.type?"bg-green-100 border border-green-400 text-green-700":"bg-red-100 border border-red-400 text-red-700"),children:u.text}),!x&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded-lg",children:"Please connect your wallet to add items to the blockchain."}),(0,s.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Type *"}),(0,s.jsxs)("select",{name:"itemType",value:n.itemType,onChange:b,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"Select item type"}),(0,s.jsx)("option",{value:"shirt",children:"Shirt"}),(0,s.jsx)("option",{value:"pant",children:"Pant"}),(0,s.jsx)("option",{value:"t-shirt",children:"T-Shirt"}),(0,s.jsx)("option",{value:"accessories",children:"Accessories"}),(0,s.jsx)("option",{value:"shorts",children:"Shorts"}),(0,s.jsx)("option",{value:"shoes",children:"Shoes"}),(0,s.jsx)("option",{value:"slippers",children:"Slippers"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Name *"}),(0,s.jsx)("input",{type:"text",name:"itemName",value:n.itemName,onChange:b,placeholder:"e.g., Formal Shirt, Blue Jeans",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wallet Address *"}),(0,s.jsx)("input",{type:"text",name:"walletAddress",value:n.walletAddress,onChange:b,placeholder:"0x...",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sold By *"}),(0,s.jsx)("input",{type:"text",name:"soldBy",value:n.soldBy,onChange:b,placeholder:"Seller name or store",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order ID *"}),(0,s.jsx)("input",{type:"text",name:"orderId",value:n.orderId,onChange:b,placeholder:"Order identification number",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup Date *"}),(0,s.jsx)("input",{type:"date",name:"pickupDate",value:n.pickupDate,onChange:b,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup Time *"}),(0,s.jsx)("input",{type:"time",name:"pickupTime",value:n.pickupTime,onChange:b,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,s.jsx)("button",{type:"submit",disabled:i||!x,className:"w-full py-3 px-4 rounded-lg font-medium transition-colors duration-200 ".concat(i||!x?"bg-gray-400 cursor-not-allowed text-white":"bg-blue-600 hover:bg-blue-700 text-white"),children:i?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Adding to Blockchain..."]}):"Add Item to Blockchain"})]})]})},d=t(9376),i=()=>{let e=(0,d.useRouter)();return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Add Item to Blockchain"}),(0,s.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Use this form to add items to your Aptos Move contract. Make sure your wallet is connected before submitting."})]}),(0,s.jsx)(n,{onSuccess:r=>{console.log("Item added successfully:",r),localStorage.setItem("itemData",JSON.stringify(r)),e.push("/successful")},onError:r=>{console.error("Error adding item:",r),e.push("/error")}})]})})}}},function(e){e.O(0,[664,239,2,971,997,744],function(){return e(e.s=938)}),_N_E=e.O()}]);